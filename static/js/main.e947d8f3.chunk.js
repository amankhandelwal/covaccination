(this.webpackJsonpcovaccination=this.webpackJsonpcovaccination||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),a=n(6),s=n.n(a),r=(n(13),n(5)),l=n.n(r),o=n(7),d=n(2);n(15);function u(e,t){var n=e;if(void 0!==t){var c=Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&");n="".concat(e,"?").concat(c)}return fetch(n).then((function(e){return e.json()}))}var j=function(e,t){return u("https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict",{district_id:e,date:t})},f=n(3),b=n.n(f),h=n(8),v=n(0),m=function(e){var t=e.vaccineCenter,n=e.checkUnder45Filter,c=e.checkAvailabilityFilter,i=t.name,a=t.block_name,s=t.pincode,r=t.fee_type,l=t.sessions.filter((function(e){return c(e.available_capacity>0)})).filter((function(e){return n(e.min_age_limit<45)}));return Object(v.jsxs)("div",{className:"flexColumn flexStart vaccine-center",children:[Object(v.jsxs)("div",{className:"flexRow spaceBetween flex1",style:{width:"100%"},children:[Object(v.jsx)("p",{style:{fontSize:16,fontWeight:"bold"},children:i}),Object(v.jsx)("p",{style:{fontSize:16,fontWeight:"bold",color:"red"},children:r})]}),Object(v.jsxs)("p",{style:{fontSize:12,color:"#2F2F2F"},children:[a," ( ",s," )"]}),l.map((function(e){return Object(v.jsx)(p,Object(h.a)({},e))}))]})},p=function(e){var t=e.min_age_limit,n=e.available_capacity,c=e.slots,i=e.date,a=n>0?Object(v.jsx)("p",{className:"availableSlot",children:"".concat(n," Slots \u2705")}):Object(v.jsx)("p",{className:"notAvailableSlot",children:"Not Available \u274c"}),s=t<45?"\ud83d\udc66\ud83c\udffb (18 yrs+)":"\ud83e\uddd3\ud83c\udffc (45 yrs+)";return Object(v.jsxs)("div",{className:"vaccine-session flexColumn flexStart",children:[Object(v.jsxs)("div",{className:"flexRow spaceBetween flex1",style:{width:"100%"},children:[Object(v.jsxs)("p",{style:{fontSize:12,fontWeight:"bold"},children:[i," ",Object(v.jsx)("span",{style:{color:"red",fontWeight:"normal"},children:s})]}),a]}),Object(v.jsx)("div",{className:"flexRow vaccine-slot",children:c.map((function(e){return Object(v.jsx)("p",{className:"slotTime",children:e})}))})]})},O=function(e){var t=Object(c.useState)(e),n=Object(d.a)(t,2),i=n[0],a=n[1];return[i,a,function(e){return!i||e}]};var x=function(){var e="DD-MM-YYYY",t=Object(c.useState)([]),n=Object(d.a)(t,2),i=n[0],a=n[1],s=Object(c.useState)([]),r=Object(d.a)(s,2),f=r[0],h=r[1],p=Object(c.useState)({state_id:"36",state_name:"West Bengal"}),x=Object(d.a)(p,2),_=x[0],S=x[1],g=Object(c.useState)({district_id:"730",district_name:"North 24 Parganas"}),C=Object(d.a)(g,2),y=C[0],N=C[1],w=Object(c.useState)([]),k=Object(d.a)(w,2),F=k[0],A=k[1],R=Object(c.useState)(b()().format(e)),B=Object(d.a)(R,2),D=B[0],I=(B[1],O(!1)),P=Object(d.a)(I,3),U=P[0],W=P[1],z=P[2],Y=O(!0),E=Object(d.a)(Y,3),L=E[0],M=E[1],T=E[2];Object(c.useEffect)((function(){var t=new URLSearchParams(window.location.search),n=t.get("district_id"),c=t.get("pincode");b()().format(e);u("https://cdn-api.co-vin.in/api/v2/admin/location/states").then((function(e){return a(e.states)})),null!=c&&function(e,t){return u("https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByPin",{pincode:e,date:t})}(c,D).then((function(e){return A(e.centers)})),null!=n&&j(n,D).then((function(e){return A(e.centers)}))}),[]);var G=function(){var t=Object(o.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:y&&(n=b()().format(e),j(y.district_id,n).then((function(e){return A(e.centers)})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),J=F.filter((function(e){return T(e.sessions.some((function(e){return e.available_capacity>0})))})).filter((function(e){return z(e.sessions.some((function(e){return e.min_age_limit<45})))}));return Object(v.jsxs)("div",{className:"App flexColumn",children:[Object(v.jsx)("header",{className:"flexRow",children:Object(v.jsxs)("div",{className:"flexColumn flexCenter",children:[Object(v.jsx)("p",{id:"title",children:"COVID VACCINES \ud83d\udc89"}),Object(v.jsx)("p",{id:"subtitle",children:"Check your nearest vaccine centers and slot availability"})]})}),Object(v.jsxs)("div",{className:"search",children:[Object(v.jsxs)("div",{className:"select-container",children:[Object(v.jsx)("label",{htmlFor:"states",children:"Select State:"}),Object(v.jsx)("select",{name:"states",onChange:function(e){var t,n=i.find((function(t){return t.state_id==e.target.value}));void 0!=n&&n.state_id!==_.state_id&&(S(n),(t=n.state_id,u("https://cdn-api.co-vin.in/api/v2/admin/location/districts/".concat(t))).then((function(e){return h(e.districts)})))},children:i.map((function(e){return Object(v.jsx)("option",{value:e.state_id,children:e.state_name})}))})]}),Object(v.jsxs)("div",{className:"select-container",children:[Object(v.jsx)("label",{htmlFor:"districts",children:"Select District:"}),Object(v.jsx)("select",{name:"districts",onChange:function(e){var t=f.find((function(t){return t.district_id==e.target.value}));void 0!==t&&t.district_id!==y.district_id&&N(t)},children:f.map((function(e){return Object(v.jsx)("option",{value:e.district_id,children:e.district_name})}))})]}),Object(v.jsx)("button",{id:"searchButton",onClick:G,children:"Search"})]}),Object(v.jsxs)("div",{className:"filters flexRow flex1",children:[Object(v.jsx)("button",{onClick:function(){M(!L)},children:L?"Show All Centers":"Show Available Centers"}),Object(v.jsx)("button",{onClick:function(){W(!U)},children:U?"18+ Age Group":"All Age Group"})]}),Object(v.jsx)("div",{className:"flexColumn list-container",children:J.length>0?J.map((function(e){return Object(v.jsx)(m,{vaccineCenter:e,checkAvailabilityFilter:T,checkUnder45Filter:z})})):Object(v.jsx)("div",{className:"error",children:"No Results found"})})]})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),a(e),s(e)}))};s.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(x,{})}),document.getElementById("root")),_()}},[[18,1,2]]]);
//# sourceMappingURL=main.e947d8f3.chunk.js.map